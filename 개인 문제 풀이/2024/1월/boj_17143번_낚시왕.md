# BOJ 17143ë²ˆ ë‚šì‹œì™•

[BOJ 17143ë²ˆ ë‚šì‹œì™•](https://www.acmicpc.net/problem/17143)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

1. ìƒí•˜ ë˜ëŠ” ì¢Œìš°ë¡œ ì›€ì§ì´ëŠ” ìƒì–´ê°€ ìˆë‹¤.
2. ë‚šì‹œì™•ì´ í•œì¹¸ì”© ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•˜ë©° í•´ë‹¹ ì—´ì— ìˆëŠ” ìƒì–´ ì¤‘ ë•…ê³¼ ê°€ì¥ ê°€ê¹Œìš´ ìƒì–´ë¥¼ ì¡ëŠ”ë‹¤.
3. ìƒì–´ë“¤ì´ ê°ìì˜ ì†ë„ì™€ ë°©í–¥ìœ¼ë¡œ ì´ë™í•œë‹¤.
4. ë‘ ìƒì–´ê°€ ê°™ì€ ì¹¸ì— ë„ë‹¬í•œë‹¤ë©´ ëª¸ë¬´ê²Œê°€ í° ìƒì–´ë§Œ ë‚¨ëŠ”ë‹¤.
5. (2 ~ 4) ê³¼ì •ì„ ë°˜ë³µí•  ë•Œ, ë‚šì‹œì™•ì´ ì¡ì•„ì˜¬ë¦¬ëŠ” ìƒì–´ì˜ ë¬´ê²Œ í•©ì„ êµ¬í•˜ë¼.

### â­ ì•Œê³ ë¦¬ì¦˜

- ì‹œë®¬ë ˆì´ì…˜

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {

    static int r, c, cnt; // cnt: ë‚¨ì€ ìƒì–´ì˜ ìˆ˜
    static Shark[][] sharks;
    static int[][] dd = {{-1, 0}, {1, 0}, {0, 1}, {0, -1}}; // ìƒ, í•˜, ì¢Œ, ìš°

    static class Shark {
        int r, c, speed, dir, size;

        public Shark(int r, int c, int speed, int dir, int size, int move) {
            this.r = r;
            this.c = c;
            this.speed = speed;
            this.dir = dir;
            this.size = size;
        }

        public void changeLoc(int r, int c) {
            this.r = r;
            this.c = c;
        }
    }

    public static void main(String[] args) throws IOException {
        readData();
        int ans = solution();
        writeData(ans);
    }

    private static int solution() {
        int res = 0;
        for (int fisherman = 0; fisherman < c; ++fisherman) { // 1. ë‚šì‹œê¾¼ í•œì¹¸ ì´ë™
            // 2. ë•…ê³¼ ê°€ì¥ ê°€ê¹Œìš´ ìƒì–´ ì¡ê¸°
            int sharkSize = catchShark(fisherman);
            if (sharkSize > 0) {
                res += sharkSize;
                if (--cnt == 0) break;
            }

            // 3. ìƒì–´ ì´ë™í•˜ê¸°
            moveAllSharks();
        }
        return res;
    }

    // locì—´ì— ìˆëŠ” ìƒì–´ ì¤‘ ë•…ê³¼ ê°€ì¥ ê°€ê¹Œì´ ìˆëŠ” ìƒì–´ ì¡ê¸°
    private static int catchShark(int loc) {
        for (int i = 0; i < r; ++i) {
            if (sharks[i][loc] != null) { // ìƒì–´ ì¡ê¸°!
                int sharkSize = sharks[i][loc].size;
                sharks[i][loc] = null;
                return sharkSize;
            }
        }
        return 0;
    }

    // ìƒì–´ ì´ë™í•˜ê¸°
    private static void moveAllSharks() {
        Shark[][] nextSharks = new Shark[r][c]; // ë‹¤ìŒ ìƒì–´ ìƒíƒœ ì €ì¥
        for (int i = 0; i < r; ++i) {
            for (int j = 0; j < c; ++j) {
                if (sharks[i][j] == null) continue; // ìƒì–´ê°€ ì—†ëŠ” ê²½ìš°

                Shark cur = sharks[i][j];
                for (int mm = 0; mm < cur.speed; ++mm) {
                    if (cur.dir < 2) {
                        if (cur.r == 0 && cur.dir == 0) cur.dir = changeDir(cur.dir);
                        else if (cur.r == r - 1 && cur.dir == 1) cur.dir = changeDir(cur.dir);
                        cur.r += dd[cur.dir][0];
                    } else {
                        if (cur.c == 0 && cur.dir == 3) cur.dir = changeDir(cur.dir);
                        else if (cur.c == c - 1 && cur.dir == 2) cur.dir = changeDir(cur.dir);
                        cur.c += dd[cur.dir][1];
                    }
                }

                // ìƒì–´ê°€ ì—†ì„ ê²½ìš° ì´ë²ˆ ìƒì–´ë¥¼, ê°™ì€ ì¹¸ì— ìƒì–´ê°€ ìˆëŠ” ê²½ìš° ë” ë¬´ê±°ìš´ ìƒì–´ ë‚¨ê¸°ê¸°
                if (nextSharks[cur.r][cur.c] == null) nextSharks[cur.r][cur.c] = cur;
                else if (nextSharks[cur.r][cur.c].size < cur.size) nextSharks[cur.r][cur.c] = cur;
            }
        }
        sharks = nextSharks;
    }

    // ìƒì–´ì˜ ì´ë™ë°©í–¥ ë°”ê¾¸ê¸°
    private static int changeDir(int dir) {
        return dir ^ 1;
    }

    private static void readData() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        r = stoi(st.nextToken());
        c = stoi(st.nextToken());
        cnt = stoi(st.nextToken());

        sharks = new Shark[r][c];
        for (int i = 0; i < cnt; ++i) {
            st = new StringTokenizer(br.readLine(), " ");
            int rr = stoi(st.nextToken()) - 1; // 0ë¶€í„° ì‹œì‘í•˜ë„ë¡ ë³€ê²½
            int cc = stoi(st.nextToken()) - 1;
            int speed = stoi(st.nextToken());
            int dir = stoi(st.nextToken()) - 1;
            int size = stoi(st.nextToken());

            if (dir < 2) speed %= (r - 1) * 2; // ìƒí•˜ë¡œ ì›€ì§ì´ëŠ” íšŸìˆ˜ ì¤„ì´ê¸°
            else speed %= (c - 1) * 2; // ì¢Œìš°ë¡œ ì›€ì§ì´ëŠ” íšŸìˆ˜ ì¤„ì´ê¸°

            sharks[rr][cc] = new Shark(rr, cc, speed, dir, size, 0);
        }

        br.close();
    }

    private static int stoi(String str) {
        return Integer.parseInt(str);
    }

    private static void writeData(int ans) throws IOException {
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        bw.write(String.format("%d\n", ans));
        bw.flush();
        bw.close();
    }
}
```
