# BOJ 19640ë²ˆ í™”ì¥ì‹¤ì˜ ê·œì¹™

[BOJ 19640ë²ˆ í™”ì¥ì‹¤ì˜ ê·œì¹™](https://www.acmicpc.net/problem/19640)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

- Nëª…ì˜ ì‚¬ëŒë“¤ì´ Mê°œì˜ ì¤„ë¡œ í™”ì¥ì‹¤ ì•ì— ì„œìˆë‹¤.
- Mê°œì˜ ì¤„ì— ê°€ì¥ ì•ì— ì„œ ìˆëŠ” ì‚¬ëŒë“¤ì´ í™”ì¥ì‹¤ì— ë“¤ì–´ê°€ëŠ” ë°ì—ëŠ” ìˆœì„œê°€ ì •í•´ì ¸ ìˆë‹¤.
  - 1ìˆœìœ„) ê·¼ë¬´ì¼ ìˆ˜ê°€ ê°€ì¥ í° ì‚¬ëŒ
  - 2ìˆœìœ„) í™”ì¥ì‹¤ì´ ê°€ì¥ ê¸‰í•œ ì‚¬ëŒ
  - 3ìˆœìœ„) ê°€ì¥ ë‚®ì€ ë²ˆí˜¸ì˜ ì¤„ì— ì„œ ìˆëŠ” ì‚¬ëŒ
- ì£¼ì–´ì§„ ìˆœì„œì— ë”°ë¼ í™”ì¥ì‹¤ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆì„ ë•Œ, ë°ì¹´ëŠ” ëª‡ë²ˆì§¸ë¡œ í™”ì¥ì‹¤ì„ ì‚¬ìš©í•˜ëŠ”ê°€?

### â­ ì•Œê³ ë¦¬ì¦˜

- ìš°ì„ ìˆœìœ„í
- í

### ğŸ“– ìŠ¤í† ë¦¬ ë¼ì¸

1. Nëª…ì˜ ì‚¬ëŒë“¤ì„ Mê°œ íì— ë‚˜ëˆ„ì–´ ë„£ëŠ”ë‹¤.
2. Mê°œ ì¤„ì˜ ê°€ì¥ ì„ ë‘ì— ìˆëŠ” ì‚¬ëŒë“¤ì„ ìš°ì„ ìˆœìœ„ íì— ë„£ê³  ê°ê°ì˜ ì¤„ì—ì„œëŠ” ì œê±°í•œë‹¤.
3. ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ìš°ì„ ìˆœìœ„íì—ì„œ ì œê±°í•˜ê³ , ë¹ ì ¸ë‚˜ê°„ ì‚¬ëŒì˜ ì¤„ì—ì„œ ì‚¬ëŒ í•œ ëª…ì„ ë³´ì¶©í•œë‹¤.

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {

    static int n, m;
    static Queue<Employee>[] emps;

    static class Employee implements Comparable<Employee> {
        int work, bathroom, line;
        boolean isMe;

        public Employee(int work, int bathroom, int line, boolean isMe) {
            this.work = work;
            this.bathroom = bathroom;
            this.line = line;
            this.isMe = isMe;
        }

        public int compareTo(Employee emp) {
            if (this.work != emp.work) return emp.work - this.work;
            else if (this.bathroom != emp.bathroom) return emp.bathroom - this.bathroom;
            return this.line - emp.line;
        }
    }

    private static int goToBathroom() {
        PriorityQueue<Employee> pq = new PriorityQueue<>();
        for (int i = 0; i < m; ++i) { // ì²«ì§¸ ì¤„ì— ìˆëŠ” ì‚¬ëŒ pqì— ë„£ê¸°
            if (!emps[i].isEmpty()) pq.offer(emps[i].poll());
        }

        // í•œëª…ì”© í™”ì¥ì‹¤ ë³´ë‚´ê¸°
        int cnt = 0;
        while (!pq.isEmpty()) {
            Employee cur = pq.poll();
            if (cur.isMe) return cnt;
            if (!emps[cur.line].isEmpty()) pq.offer(emps[cur.line].poll());
            cnt += 1;
        }

        return -1;
    }

    private static void readData() throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        int k = Integer.parseInt(st.nextToken());

        emps = new LinkedList[m];
        for (int i = 0; i < m; ++i) emps[i] = new LinkedList<>();

        for (int i = 0; i < n; ++i) {
            st = new StringTokenizer(br.readLine(), " ");
            int work = Integer.parseInt(st.nextToken());
            int bathroom = Integer.parseInt(st.nextToken());
            boolean isMe = i == k ? true : false;
            emps[i % m].add(new Employee(work, bathroom, i % m, isMe));
        }

        br.close();
    }

    private static void writeData(int ans) throws IOException {
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        StringBuilder sb = new StringBuilder(String.format("%d\n", ans));
        bw.write(sb.toString());
        bw.flush();
        bw.close();
    }

    public static void main(String[] args) throws Exception {
        readData();
        int ans = goToBathroom();
        writeData(ans);
    }
}
```
