# BOJ 2617ë²ˆ êµ¬ìŠ¬ ì°¾ê¸°

[BOJ 2617ë²ˆ êµ¬ìŠ¬ ì°¾ê¸°](https://www.acmicpc.net/problem/2617)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

- Nê°œ(Nì€ í™€ìˆ˜)ì˜ êµ¬ìŠ¬ì´ ìˆë‹¤.
- Mê°œì˜ êµ¬ìŠ¬ ë¬´ê²Œ ê´€ê³„ê°€ ì£¼ì–´ì§„ë‹¤.
- ë¬´ê²Œê°€ ì¤‘ê°„ì¸ êµ¬ìŠ¬ì´ ë  ìˆ˜ ì—†ëŠ” êµ¬ìŠ¬ì˜ ìˆ˜ë¥¼ êµ¬í•˜ë¼.

### â­ ì•Œê³ ë¦¬ì¦˜

- í”Œë¡œì´ë“œ-ì›Œì…œ

### ğŸ“– ìŠ¤í† ë¦¬ ë¼ì¸

1. í”Œë¡œì´ë“œ-ì›Œì…œì„ í†µí•´ êµ¬ìŠ¬ì˜ ë¬´ê±°ì›€ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
   - i < k && k < jì´ë©´ i < jì´ë¯€ë¡œ í”Œë¡œì´ë“œ-ì›Œì…œì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.
2. ë¬´ê²Œ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¸ ì´ì°¨ì› ë°°ì—´ì—ì„œ í–‰ì„ íƒìƒ‰í•˜ë©° ië²ˆ êµ¬ìŠ¬ë³´ë‹¤ ë¬´ê±°ìš´ êµ¬ìŠ¬ì˜ ìˆ˜ë¥¼ ì°¾ëŠ”ë‹¤.
   - dist[i][j]ê°€ trueì´ë©´ i < j ì´ë‹¤.
3. ë¬´ê²Œ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¸ ì´ì°¨ì› ë°°ì—´ì—ì„œ ì—´ì„ íƒìƒ‰í•˜ë©° ië²ˆ êµ¬ìŠ¬ë³´ë‹¤ ê°€ë²¼ìš´ êµ¬ìŠ¬ì˜ ìˆ˜ë¥¼ ì°¾ëŠ”ë‹¤.
   - dist[j][i]ê°€ trueì´ë©´ i < j ì´ë‹¤.
4. ië²ˆ êµ¬ìŠ¬ë³´ë‹¤ ê°€ë³ê±°ë‚˜ ë¬´ê±°ìš´ êµ¬ìŠ¬ì˜ ìˆ˜ê°€ ì „ì²´ êµ¬ìŠ¬ì˜ ì ˆë°˜ë³´ë‹¤ ë§ë‹¤ë©´ ië²ˆ êµ¬ìŠ¬ì˜ ë¬´ê²ŒëŠ” ì ˆëŒ€ ì¤‘ê°„ì´ ë  ìˆ˜ ì—†ë‹¤.

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {

    static int n;
    static boolean[][] hasRoute;

    public static void main(String[] args) throws IOException {
        readData();
        getRoute();
        int[] heavier = compareWeight(new int[n + 1], true);
        int[] lighter = compareWeight(new int[n + 1], false);
        int ans = countNotInTheMiddle(heavier, lighter);
        writeData(ans);
    }

    // floyd-warshallë¡œ ë¬´ê±°ì›€ ê´€ê³„ ì°¾ê¸°
    private static void getRoute() {
        for (int k = 1; k <= n; ++k) {
            for (int i = 1; i <= n; ++i) {
                if (i == k) continue;
                for (int j = 1; j <= n; ++j) {
                    if (j == k || j == i) continue;

                    // i -> k -> jì´ë©´ i -> jë¡œ ê´€ê³„ í‘œì‹œ
                    if (hasRoute[i][k] && hasRoute[k][j]) hasRoute[i][j] = true;
                }
            }
        }
    }

    // idxì˜ êµ¬ìŠ¬ë³´ë‹¤ ë¬´ê²ê±°ë‚˜ ê°€ë²¼ìš´ êµ¬ìŠ¬ì˜ ìˆ˜ ì„¸ê¸°
    private static int[] compareWeight(int[] arr, boolean heavy) {
        for (int i = 1; i <= n; ++i) {
            int cnt = 0;
            for (int j = 1; j <= n; ++j) {
                if (heavy && isHeavier(i, j)) ++cnt;
                if (!heavy && isLighter(i, j)) ++cnt;
            }
            arr[i] = cnt;
        }
        return arr;
    }

    // jë²ˆ ië²ˆ êµ¬ìŠ¬ë³´ë‹¤ ë¬´ê±°ìš´ì§€
    private static boolean isHeavier(int i, int j) {
        return hasRoute[i][j];
    }

    // ië²ˆ êµ¬ìŠ¬ì´ jë²ˆë³´ë‹¤ ê°€ë²¼ìš´ì§€
    private static boolean isLighter(int i, int j) {
        return hasRoute[j][i];
    }

    // ë¬´ê²Œê°€ ì¤‘ê°„ì´ ë  ìˆ˜ ì—†ëŠ” êµ¬ìŠ¬ì˜ ìˆ˜ êµ¬í•˜ê¸°
    private static int countNotInTheMiddle(int[] heavier, int[] lighter) {
        int cnt = 0;

        int mid = n / 2;
        for (int i = 1; i <= n; ++i) {
            if (heavier[i] > mid || lighter[i] > mid) ++cnt;
        }

        return cnt;
    }

    private static void readData() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        n = Integer.parseInt(st.nextToken());
        int m = Integer.parseInt(st.nextToken());

        hasRoute = new boolean[n + 1][n + 1];
        for (int i = 0; i < m; ++i) {
            st = new StringTokenizer(br.readLine(), " ");
            int heavy = Integer.parseInt(st.nextToken());
            int light = Integer.parseInt(st.nextToken());
            hasRoute[light][heavy] = true;
        }

        br.close();
    }

    private static void writeData(int ans) throws IOException {
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        bw.write(String.format("%d\n", ans));
        bw.flush();
        bw.close();
    }

}
```
