# BOJ 6497ë²ˆ ì „ë ¥ë‚œ

[BOJ 6497ë²ˆ ì „ë ¥ë‚œ](https://www.acmicpc.net/problem/6497)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

- Mê°œì˜ ì§‘ì— Nê°œì˜ ë„ë¡œë¡œ ì§‘ë“¤ì´ ì—°ê²°ë˜ì–´ìˆìœ¼ë©° ê° ë„ë¡œ ìœ„ì—ëŠ” ê°€ë¡œë“±ì´ í•˜ë‚˜ì”© ì¼œì ¸ìˆë‹¤.
- ê°€ë¡œë“±ì„ ì¼œë‘ë©´ ë„ë¡œì˜ ê¸¸ì´ë§Œí¼ ëˆì´ ë“¤ì–´ê°€ëŠ”ë°, ì¼ë¶€ë¥¼ ì†Œë“±í•˜ì—¬ ëˆì„ ì ˆì•½í•˜ê³ ì í•œë‹¤.
- ë‘ ì§‘ì„ ì™•ë˜í•  ë•ŒëŠ” ë°˜ë“œì‹œ ê°€ë¡œë“±ì´ ì¼œì§„ ë„ë¡œë¡œë§Œ ë‹¤ë…€ì•¼í•˜ë¯€ë¡œ ëª¨ë“  ë‘ ì§‘ ìŒì— ëŒ€í•´ ì™•ë˜í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
- ì ˆì•½í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì•¡ìˆ˜ë¥¼ êµ¬í•˜ë¼.

### â­ ì•Œê³ ë¦¬ì¦˜

- MST(Minimum Spanning Tree)
  - kruskal: ê°„ì„  ì¤‘ì‹¬
  - prim: ì •ì  ì¤‘ì‹¬

ë¬¸ì œë¥¼ ë‘ ë°©ì‹ìœ¼ë¡œ í’€ë©° ì‚¬ìš©í•œ ë©”ëª¨ë¦¬ì™€ ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

| ë°©ì‹    | ë©”ëª¨ë¦¬   | ì‹œê°„   |
| ------- | -------- | ------ |
| Kruskal | 244124KB | 856ms  |
| Prim    | 289356KB | 1372ms |

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ

#### Kruskal

```java
import java.io.*;
import java.util.*;

public class Main {

    static int home, len; // home: ì§‘ì˜ ìˆ˜, len: ì „ì²´ ë„ë¡œì˜ ê¸¸ì´
    static PriorityQueue<Node> pq;
    static int[] parent;

    static class Node implements Comparable<Node> {
        int from, to, dist;

        public Node(int from, int to, int dist) {
            this.from = from;
            this.to = to;
            this.dist = dist;
        }

        public int compareTo(Node node) {
            return this.dist - node.dist;
        }
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        StringBuilder sb = new StringBuilder();

        while (true) {
            init();
            if (!readData(br)) break;
            makeSet();
            int min = kruskal();
            writeData(sb, min);
        }

        bw.write(sb.toString());
        bw.flush();
        bw.close();
        br.close();
    }

    private static void init() {
        len = 0;
        pq = new PriorityQueue<>();
    }

    // ì„œë¡œì†Œ ì§‘í•©ì„ ì´ˆê¸°í™”
    private static void makeSet() {
        parent = new int[home];
        for (int i = 0; i < home; ++i) parent[i] = i;
    }

    // ì„œë¡œì†Œ ì§‘í•©ì—ì„œ xì˜ ë¶€ëª¨ ì°¾ê¸°
    private static int findSet(int x) {
        if (x == parent[x]) return x;
        return parent[x] = findSet(parent[x]);
    }

    // ì„œë¡œ ë‹¤ë¥¸ ë‘ ì§‘í•©ì„ í•©ì¹˜ê¸°
    private static boolean union(int x, int y) {
        int rootX = findSet(x);
        int rootY = findSet(y);

        if (rootX == rootY) return false;
        parent[rootX] = parent[rootY];
        return true;
    }

    private static int kruskal() {
        int min = 0;
        int v = 0;

        while (v < home - 1) { // ê°„ì„ ì´ (ì§‘ì˜ ìˆ˜ - 1)ê°œ ë§Œí¼ ì—°ê²°ë  ë•Œê¹Œì§€
            Node cur = pq.poll();
            if (union(cur.from, cur.to)) {
                min += cur.dist;
                v += 1;
            }
        }

        return min;
    }

    private static boolean readData(BufferedReader br) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        home = Integer.parseInt(st.nextToken());
        int road = Integer.parseInt(st.nextToken());

        if (home == 0 && road == 0) return false;

        for (int i = 0; i < road; ++i) {
            st = new StringTokenizer(br.readLine(), " ");
            int from = Integer.parseInt(st.nextToken());
            int to = Integer.parseInt(st.nextToken());
            int d = Integer.parseInt(st.nextToken());

            pq.offer(new Node(from, to, d));
            len += d;
        }

        return true;
    }

    private static void writeData(StringBuilder sb, int ans) throws IOException {
        // ì ˆì•½í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì•¡ìˆ˜ì´ë¯€ë¡œ ì „ì²´ ì•¡ìˆ˜ - ìµœì†Œ ë¹„ìš©
        sb.append(String.format("%d\n", len - ans));
    }

}
```

#### Prim

ì²« ë²ˆì§¸ ì •ì (0ë²ˆ ì§‘)ê³¼ ì—°ê²°ëœ ê°„ì„ ì„ íƒìƒ‰í•˜ê¸° ìœ„í•´ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ `while`ë‚´ë¶€ì˜ ì½”ë“œì™€ ì¤‘ë³µëœë‹¤.

```
for (Node next : dist[0]) {
    ....
}
```

ë‹¨ìˆœíˆ 0ë²ˆ ì§‘ê³¼ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©° ê¸¸ì´ê°€ 0ì¸ ì„ì˜ì˜ Nodeë¥¼ ìš°ì„ ìˆœìœ„ íì— ì¶”ê°€í•˜ì—¬ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```java
pq.offer(new Node(1, 0));
```

</br>

```java
import java.io.*;
import java.util.*;

public class Main {

    static int home, len; // home: ì§‘ì˜ ìˆ˜, len: ì „ì²´ ë„ë¡œì˜ ê¸¸ì´
    static List<Node>[] dist;
    static PriorityQueue<Node> pq;

    static class Node implements Comparable<Node> {
        int to, dist;

        public Node(int to, int dist) {
            this.to = to;
            this.dist = dist;
        }

        public int compareTo(Node node) {
            return this.dist - node.dist;
        }
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        StringBuilder sb = new StringBuilder();

        while (true) {
            init();
            if (!readData(br)) break;
            int min = prim();
            writeData(sb, min);
        }

        bw.write(sb.toString());
        bw.flush();
        bw.close();
        br.close();
    }

    private static void init() {
        len = 0;
        pq = new PriorityQueue<>();
    }

    private static int prim() {
        int min = 0;
        boolean[] visited = new boolean[home];
        int connected = 0; // ì—°ê²°ëœ ì§‘ì˜ ìˆ˜
        pq.offer(new Node(1, 0)); // 0ë²ˆ ì§‘ê³¼ ì—°ê²°ëœ ê°„ì„  ë¨¼ì € íƒìƒ‰

        while (!pq.isEmpty()) {
            Node cur = pq.poll();
            if (visited[cur.to]) continue; // ì´ë¯¸ ì—°ê²°ëœ ì§‘ì´ë¼ë©´

            min += cur.dist;
            visited[cur.to] = true;
            if (++connected == home) break; // ëª¨ë“  ì§‘ì´ ì—°ê²°ë˜ì—ˆë‹¤ë©´

            // ìƒˆë¡œ í¬í•¨ëœ ì§‘ê³¼ ì—°ê²°ëœ ê°„ì„  íƒìƒ‰
            for (Node next : dist[cur.to]) {
                if (!visited[next.to]) pq.offer(next); // ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë„£ê¸°
            }
        }

        return min;
    }

    private static boolean readData(BufferedReader br) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        home = Integer.parseInt(st.nextToken());
        int road = Integer.parseInt(st.nextToken());
        if (home == 0 && road == 0) return false;

        dist = new ArrayList[home];
        for (int i = 0; i < home; ++i) dist[i] = new ArrayList<>();

        for (int i = 0; i < road; ++i) {
            st = new StringTokenizer(br.readLine(), " ");
            int from = Integer.parseInt(st.nextToken());
            int to = Integer.parseInt(st.nextToken());
            int d = Integer.parseInt(st.nextToken());
            dist[from].add(new Node(to, d));
            dist[to].add(new Node(from, d));
            len += d;
        }

        return true;
    }

    private static void writeData(StringBuilder sb, int ans) throws IOException {
        // ì ˆì•½í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì•¡ìˆ˜ì´ë¯€ë¡œ ì „ì²´ ì•¡ìˆ˜ - ìµœì†Œ ë¹„ìš©
        sb.append(String.format("%d\n", len - ans));
    }

}
```
