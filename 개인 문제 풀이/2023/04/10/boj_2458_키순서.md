# BOJ 2458ë²ˆ í‚¤ ìˆœì„œ

[458ë²ˆ í‚¤ ìˆœì„œ](https://www.acmicpc.net/problem/2458)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

1. mê°œì˜ ë‘ í•™ìƒ ì‚¬ì´ì˜ í‚¤ ê´€ê³„ê°€ ì£¼ì–´ì§ˆ ë•Œ, ìì‹ ì˜ í‚¤ ìˆœì„œë¥¼ ì•„ëŠ” í•™ìƒì˜ ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œ

### â­ ì•Œê³ ë¦¬ì¦˜

1. **Floyd-Warshall**
   Floyd-Warshallì€ **í•œ ì •ì ì—ì„œ ë‹¤ë¥¸ ì •ì ìœ¼ë¡œì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ëŠ” ì•Œê³ ë¦¬ì¦˜**ì´ë‹¤.
   Warshallì€ ê·¸ë˜í”„ì—ì„œ ëª¨ë“  ìŒì˜ ê²½ë¡œ ì¡´ì¬ ì—¬ë¶€ë¥¼ ì°¾ì•„ë‚´ëŠ” ë™ì  ê³„íšë²•ì„ ì œì•ˆí•˜ì˜€ê³ , FloydëŠ” ì´ë¥¼ ë³€í˜•í•˜ì—¬ ëª¨ë“  ìŒ ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ê³ ì•ˆí•˜ë©° ì´ ì•Œê³ ë¦¬ì¦˜ì´ ì™„ì„±ë˜ì—ˆë‹¤.
   ì´ ë¬¸ì œì—ì„œëŠ” Warshallì˜ ì•„ì´ë””ì–´ì— ë”°ë¼ **ê° ìŒì— ê´€ê³„ê°€ ì¡´ì¬í•˜ëŠ”ì§€ íŒŒì•…**í•˜ê¸° ìœ„í•´ í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.util.StringTokenizer;

public class Main_2458_í‚¤ìˆœì„œ {

	static int n;
	static int[][] adj;

	public static void main(String[] args) throws Exception {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
		StringBuilder sb = new StringBuilder();
		StringTokenizer st = null;

		// ì…ë ¥
		st = new StringTokenizer(br.readLine(), " ");
		n = Integer.parseInt(st.nextToken());
		int m = Integer.parseInt(st.nextToken());

		adj = new int[n + 1][n + 1];
		for (int i = 0; i < m; ++i) {
			st = new StringTokenizer(br.readLine(), " ");
			int s1 = Integer.parseInt(st.nextToken());
			int s2 = Integer.parseInt(st.nextToken());
			adj[s1][s2] = 1;
		}

		// ë¡œì§
		solve();

		// ì¶œë ¥
		sb.append(count()).append("\n");

		bw.write(sb.toString());
		bw.flush();
		bw.close();
		br.close();
	}

	// ìì‹ ë³´ë‹¤ í° í•™ìƒì˜ ìˆ˜ì™€ ìì‹ ë³´ë‹¤ ì‘ì€ í•™ìƒì˜ ìˆ˜ ì„¸ê¸°
	private static void solve() {
		for (int k = 1; k <= n; ++k) {
			for (int i = 1; i <= n; ++i) {
				if (i == k || adj[i][k] == 0) continue;
				for (int j = 1; j <= n; ++j) {
					if (j == k || j == i) continue;

					// i<k<jì´ë©´ i<jì´ë‹¤.
					if (adj[i][j] == 1) continue; // i<j ê´€ê³„ë¥¼ ì•Œê³  ìˆìŒ
					adj[i][j] = adj[i][k] & adj[k][j];
				}
			}
		}
	}

	// ë³¸ì¸ì˜ í‚¤ ìˆœì„œë¥¼ ì•„ëŠ” í•™ìƒì˜ ìˆ˜ ì„¸ê¸°
	private static int count() {
		// ìì‹ ë³´ë‹¤ í° í•™ìƒì˜ ìˆ˜ì™€ ìì‹ ë³´ë‹¤ ì‘ì€ í•™ìƒì˜ ìˆ˜ ì„¸ê¸°
		for (int i = 1; i <= n; ++i) {
			int tall = 0, small = 0;
			for (int j = 1; j <= n; ++j) {
				if (adj[i][j] == 1) ++tall;
				if (adj[j][i] == 1) ++small;
			}
			adj[i][0] = tall;
			adj[0][i] = small;
		}

		// ë³¸ì¸ë³´ë‹¤ í° ì‚¬ëŒì˜ ìˆ˜ + ë³¸ì¸ë³´ë‹¤ ì‘ì€ ì‚¬ëŒì˜ ìˆ˜ == í•™ìƒ ìˆ˜ì´ë©´ ë³¸ì¸ì˜ í‚¤ ìˆœì„œë¥¼ ì•
		int cnt = 0;
		for (int i = 1; i <= n; ++i) {
			if (adj[i][0] + adj[0][i] == n - 1) ++cnt;
		}

		return cnt;
	}

}

```
